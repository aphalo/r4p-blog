---
title: "LED-based light sources"
subtitle: "Custom-assembled sources and drivers"
date: 2022-01-29
date-modified: 2025-09-17
author: "Pedro J. Aphalo"
keywords: [LED arrays]
categories: [Research instrumentation]
editor: 
  markdown: 
    wrap: 72
code-fold: true
format:
  html: 
    code-link: true
    code-tools: true
abstract: |
  Description of some of the LED-based light sources we use in research on plants' responses to light. Including high-power COB LEDs, multichannel arrays and medium-power SMD LEDs.
draft: false
---

## White light sources

The sources described in this page are intended for localized illumination, such as illuminating a single Arabidopsis rosette or a few seedlings, at least if irradiances of 1500 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ or more. They are thus suitable for illumination of leaves, shoots of small plants during gas-exchange measurements.

I have assembled these light sources using "chip-on-board" (COB) LEDs. In a COB LED the chips are mounted very close together attached directly to a heat conductive small board. The board used a substrate can be made of special ceramic materials or solid metal. These substrates have very low thermal resistance and can thus readily conduct the heat generated by the LED chips into a metal heat sink or and active cooling device. This allows packing chips with a high total power on a very small area, making is easier to attach optics like reflectors, or when the individual LED chips emit at different wavelengths, better mixing of the light of different colours. The most powerful COB LEDs can pack 100's W of LEDs into an area of a couple of square centimetres. Such LEDs have a light output equivalent to several 1000's W of incandescent lamps and are used in film and photography sets and in theatres. At close range between 5 and 20 cm, 10 W to 20 W COB LEDs can provide PAR irradiances of well over 1000 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$, and these are what we describe here.

The components for the light sources described in this section were bought with research funding awarded to P. J. Aphalo and built by P. J. Aphalo.

### Sources with emission spectrum similar to the growth chambers

We have available for use for gas-exchange two custom assembled light sources assembled with high-power (10W) COB LEDs (type Optisolis NFCWL036B-V3, Nichia) with an emission spectrum very similar to that of the light sources in the chambers and a light emitting area 8.7 mm in diameter. (There is a difference in the contribution of the peaks at 405 nm and 425 nm.)

![COB LED with reflector and diffuser](images/cob-with-reflector-and-diffuser.jpg "COB LED with reflector and diffuser")

![COB LED without reflector and diffuser](images/cob-bare.jpg "COB LED without reflector and diffuser")

```{r, message = FALSE}
library(photobiologyLEDs)
library(photobiologyInOut)
library(photobiologyWavebands)
library(ggspectra)
photon_as_default()
theme_set(theme_bw() + theme(legend.position = "top"))
options("photobiology.plot.bands" = Plant_bands("CIE"))
```

```{r, include=FALSE}
library(knitr)
opts_chunk$set(fig.align = 'center', 
               fig.show = 'hold', fig.width = 8, fig.height = 5,
               cache = FALSE, warning = FALSE, message = FALSE)
options(warnPartialMatchArgs = FALSE)
```

The figure below shows the spectral irradiance of one of these LEDs when combined with a 25 degrees reflector, and measured at 16 cm distance. At 2120 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ this is enough to saturate the light response of photosynthesis in many cases. It is important to realize that the reflector make a huge difference as the light-emitting area of the COB behaves similarly to a Lambertian surface (emitting like a nearly perfect diffuser), as the same COB at same distance and position provides a PAR irradiance of 200 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ .

```{r}
autoplot(COB_reflectors.mspct$Rfl.25deg,
         annotations = c("+", "title:none:none:what"),
         geom = "spct",
         range = c(280,NA), 
         span = 71)
```

The colour rendition index (CRI) is a meassure of how "naturally" colours are seem by humans under light emitted by a white light source. It ranges from 0 to 100, and is unitless. The LEDs described above have nominal CRI 95+ and measured CRI = 98, without the reflector, but lower with the reflector at CRI = 91. The change in CRI is caused by the change in the spectrum introduced by the reflector, which can be seen in the figure below, where the two spectra have been normalised to 1 at 631.4 nm.

```{r}
autoplot(COB_reflectors.mspct[c("Rfl.25deg","Rfl.None")],
         idfactor = "Reflector",
         geom = "spct",
         norm = 631.4,
         range = c(280,NA), 
         span = 71)
```

### Other white LEDs with high CRI

Nichia was the first big company to offer LEDs with an almost continuous spectrum with its *Optisolis* series of LEDs to which those in the growth chamber and those described in the previous section belong. Seoul semiconductor followed with their *Sunlike* series based on technology from Toshiba. More recently both companies started offering COB LEDs in the same series and Bridgelux released its *thrive* series of LEDs. Even more recently, Chinese LEDs with similar characteristics have appeared in AliExpress and eBay. It is difficult to know who makes these later LEDs, but at least some of them do not match the characteristics of any other COB LEDs from the other manufacturers that I have come across.

The photograph below shows a *Sunlike* 15 W COB LED from Seoul Semiconductors with a light emitting are 14.5 mm in diameter.

![15 W Sunlike COB LED mounted on a heatsink.](images/_5120422.jpg)

Some example spectra can be seen in the figure below. LCFOCUS and Ledguhon are from China, Nichia from Japan, Seoul Semiconductors from S. Korea and Bridgelux from USA. All the LEDs in this figure have CRI $\geq$ 95. The wavelengths in nanometres at the local maxima are shown in red.

```{r, fig.height=12, fig.width = 8, warning=FALSE}
autoplot(leds.mspct[c(high_CRI_leds, "Bridgelux_BXRE_50S2001_c_73")],
         annotations = c("color.guide", "peaks"),
         geom = "spct",
         norm = "max",
         text.size = 2,
         facets = 2,
         range = c(280,900), 
         span = 31)
```

### LEDs for grow lights

Some of the LEDs above with spectra similar to sunlight are advertised as good for plant cultivation, we also have LEDs with more typical grow-light spectra including "purple" (blue + red) ones. The Nichia LEDs are not COBs but 3 W single-die packages mounted in LinearZ modules from Lumitronix, Germany. The Luminous LED is a 25 W COB and the LCFOCUS LED is a 10 W COB. The spectra are normalized to 1 at the peak.

```{r, fig.height=6, fig.width = 8, warning=FALSE}
autoplot(leds.mspct[setdiff(plant_grow_leds, high_CRI_leds)[1:4]],
         annotations = c("color.guide", "peaks"),
         geom = "spct",
         norm = "max",
         text.size = 2,
         facets = 2,
         range = c(280,900), 
         span = 31)
```

## Sources of coloured light

We have a large selection of single colour high power (3W) SMD LEDs spanning wavelengths from 365 nm to 940 nm (from various manufacturers including LED Engin, Epileds, Brightlux, and CREE). We also have modern high power SMD LEDs emitting at 280 nm, 305 nm, 325 nm, 340 nm (types DUV280-SD356L, DUV310-SD356L, DUV325-SD356L, DUV340-SD356L, Roithner-Laser, Vienna, Austria) and 345 nm (type MTSM340UV-F5120, MarkTech, USA).

Being these 2 W to 4 W LEDs they can be used to illuminate single Arabidopsis rosettes, a few seedlings or individual leaves from larger plants. Except for those emitting at 365 nm, we have only a few LEDs of each type.

![One UV LED mounted on a small heat sink.](images/uva-power-led.jpg)

![Some of the 2W and 3W LEDs with maximum emission at wavelengths ranging from 280 nm to 950 nm.](images/leds-in-case.jpg)

## Arrays with multiple channels

We have LED arrays with multiple channels. We have used for many years (from before blue + red LED light sources became available from LI-COR) custom-built red-green-blue (RGB) light sources for gas-exchange measurements to study stomatal responses. Some were built from commercial RGB LED arrays (from Norlux, USA) and others from separate red, green and blue arrays to allow a choice of wavelengths.

COB LEDs are available in versions with multiple channels, in this case the LED dies are packed into a small area. COB LEDs like this one assembled on a ceramic substrate cannot be bought customized for small orders. The one shown in the photographs below has seven channels, each channel with a single 3 W die. This gives a total rated power of 20 W. Each channel is wired independently, and thus, each channel can be switched and dimmed independently of others. This small COB, 7 x 7 mm, with a light emitting area of 3.8 mm in diameter is factory-soldered onto a 35 mm x 38 mm printed circuit with a solid copper base, which I mounted using thermal transfer grease onto an aluminium heat sink.

![](images/_5120414.jpg)

The detail of the COB package can be better seen in this macro photograph with the gold wires connecting the individual dies can be seen under the flat glass window.

![Detail of the 7 channel COB LED LZ7-N4M100](images/_5120409.jpg)

The spectra are shown first individually. Measured at a distance of 35 mm and dimmed to about 40% output of maximum (considering the rating for energizing all channels simultaneously, and 33% of the output of channels energized individually). At the maximum rated current the irradiance can be expected to be higher that 1000 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ from each individual channel, including UV-A1. This is at a very short distance of 35 mm, but this should be enough to illuminate evenly most standard gas-exchange cuvettes, even after considering the attenuation by the cuvette window. If needed one could add a reflector to concentrate the light beam and set the COB LED farther away.

```{r, fig.height=11, fig.width = 8}
autoplot(led_arrays.mspct$LedEngin_LZ7_N4M100, facets = 2,
         text.size = 2,
         geom = "spct",
         span = 71,
         w.band = list(UVA(), PAR()))
```

Next we sum the output of all channels dimmed to 40%, so at 100% we can expect 7000 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ PAR and 1000 $\mathrm{\mu mol\,m^{-2}\,s^{-1}}$ UV-A1.

```{r}
autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$LedEngin_LZ7_N4M100),
                           w.length.out = 250:900),
         geom = "spct",
         plot.data = "sum",
         span = 31)
```

Less sophisticated arrays can be assembled individually under a binocular microscope. Heat transfer is not as good because of how the LED dies are mounted, and consequently their size is several times larger. Quality is less consistent as assembly is done by hand. However, customized arrays can be ordered in very small numbers, even singly from some Chinese suppliers. Power per array ranges from 10 W to 500 W. Arrays of 30 W, 50 W and 120 W, have 3, 5, and 12 rows of 10 LED dies connected in series. In the case of the packages used for these power ratings, the rows can be wired separately, and thus controlled independently. If LED dies emitting at a different wavelengths are installed in each row, an array can be assembled with up to 12 channels. We have had custom arrays assembled in China according to our choice of dies and wavelengths. We have two types five channel arrays (five wavelengths, 5 $\times$ 10 W) and two types of 12-channels arrays (12 $\times$ 10 W), named type A and type B, below. These need to be used farther away from the target plants and with a diffuser or integrating sphere to ensure good mixing of the light from the different channels.

![Custom assembled LED array with 12 channels](images/12-ch-array-side.jpg "Custom assembled LED array with 12 channels")

![Custom assembled LED array with 12 channels](images/12-ch-array-top.jpg "Custom assembled LED array with 12 channels")

As above, each channel of the **12-channel type A array** plotted individually. They can be controlled and dimmed individually and their output mixed.

```{r}
#| fig-asp: 1

autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.A),
                           w.length.out = 250:900),
         geom = "spct",
         facets = 3,
         span = 31)
```
All the channels overlapped in the same plot.

```{r}
#| fig-asp: 1

autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.A),
                           w.length.out = 250:900),
         span = 21)
```

The sum of the 12 channels at full power.

```{r}
autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.A),
                           w.length.out = 250:900),
         plot.data = "sum",
         geom = "spct",
         span = 9)
```

As above, each channel of the **12-channel type B array** plotted individually. They can dimmed individually and their output mixed.

```{r}
#| fig-asp: 1

autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.B),
                           w.length.out = 250:900),
         geom = "spct",
         facets = 3,
         span = 31)
```

All the channels overlapped in the same plot.

```{r}
#| fig-asp: 1

autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.B),
                           w.length.out = 250:900),
         span = 21)
```
The sum of the 12 channels at full power.

```{r}
autoplot(interpolate_mspct(subset2mspct(led_arrays.mspct$Weili_120W.array.12ch.custom.B),
                           w.length.out = 250:900),
         plot.data = "sum",
         geom = "spct",
         span = 15)
```

## LED drivers and controllers

### Two approaches to LED dimming

Two different approaches are in use for dimming the output of LEDs, pulse-width-modulation (PWM) and constant current (CC). In pulse-width modulation LEDs are switched on and off rapidly (> 100 Hz). The frequency used is high enough for humans not to see it. In CC the current flowing through the LEDs is reduced without any pulsing. In LED lights for use in photography or video recording CC dimming or PWM dimming at higher frequency is used (>> 1000 Hz).

The pulsing can be measured with an oscilloscope and a light sensor with a suitably small response time constant.

![Constant current dimming. Light output measured with an osciloscope.](led-images/dimmimg-cc.png)

![Pulse-width-modulation dimming at 250 Hz, using a commercial dimmer. Light output measured with an osciloscope.](led-images/dimmimg-pwm.png)

### Programmable LED driver

Controllers for LED light sources, capable of both constant current dimming and pulse-width-modulation at frequencies from 0.01 to 1000 Hz, separately and in combination. These controllers integrate loggers to record the current flowing through each channel. They can work either autonomously or tethered to a computer. Programming and data retrieval is done through USB or if connected through a YoctoHub through a network connection. Output current 0 to 1200 mA, output voltage 2 V to 56 V. Input voltage 19 V to 60 V DC, at least 4 V higher than output voltage. Efficiency up to 96%.

![Intelligent LED controller (bare circuit)](images/intelligent-led-controller.jpg "Intelligent LED controller (bare circuit)")

![Intelligent LED controller (open case)](images/_Z172671_1.jpg)

![Intelligent LED controller (front)](images/_Z172684.jpg)

![Intelligent LED controller (side)](images/_Z172685.jpg)

A controller based on the same circuit plus distribution boxes for the signals are available for controlling the customised light sources in our three Aralab growth chambers. The LEDs in the chamber are wired in three groups for CC dimming, and in four groups for PWM dimming, pulsing or switching. The maximum irradiance is 1600 $\mu mol\,m^{-2}\,s^{-1}$ and the minimum 40 $\mu mol\,m^{-2}\,s^{-1}$. As each group of LEDs can be controlled individually, both the maximum and minimum irradiances of pulses can be adjusted. This controller can pulse in synchrony both the chamber LEDs and additional LEDs such as UVA, and FR ones. It is also possible to control dimming in our three chambers.

### Manual LED drivers

Two two-channel LED drivers with manual, but repeatable constant current (CC) dimming control are available. One with output current 10 to 350 mA, and one with output current 100 to 1200 mA. Both with output voltage 2 V to 56 V. Input voltage 9 V to 60 V DC, at least 4 V higher than output voltage. Efficiency up to 96%. The photographs below are for the lower power one.

![Manual LED driver](images/_Z303332.jpg)

![Manual LED driver with two COB LEDs, nominal power 10W, dimmed down to 4.5 W each.](images/_Z303348.jpg)
